<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Avspeechutterance by wl1432103394</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Avspeechutterance</h1>
      <h2 class="project-tagline">语音合成</h2>
      <a href="https://github.com/wl1432103394/AVSpeechUtterance" class="btn">View on GitHub</a>
      <a href="https://github.com/wl1432103394/AVSpeechUtterance/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/wl1432103394/AVSpeechUtterance/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="语音合成" class="anchor" href="#%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>语音合成.</h3>

<ul>
<li>AVSpeechUtterance    语音表达 类</li>
<li>AVSpeechSynthesizer  语音合成 类</li>
</ul>

<p>1 属性</p>

<ul>
<li>
<a href="https://github.com/property" class="user-mention">@property</a> (nonatomic, strong) AVSpeechUtterance *utterance; //语音表达</li>
<li>
<a href="https://github.com/property" class="user-mention">@property</a> (nonatomic, strong) AVSpeechSynthesizer *synthesizer; //语音合成</li>
</ul>

<p>2初始化</p>

<ul>
<li>self.synthesizer = [[AVSpeechSynthesizer alloc] init];  //初始化语音合成者</li>
<li>self.synthesizer.delegate = self;                       //代理
//初始化语音表达类 设置语音文字</li>
<li>self.utterance = [AVSpeechUtterance speechUtteranceWithString:self.textField.text];</li>
<li>self.utterance.voice = [AVSpeechSynthesisVoice voiceWithLanguage:@"zh-CH"];//设置语言</li>
<li>self.utterance.rate = 0.4; //设置语速</li>
<li>[self.synthesizer speakUtterance:self.utterance];//合成语音并表达</li>
<li>NSLog(@"%@", [AVSpeechSynthesisVoice speechVoices]);//获取语言类型</li>
</ul>

<p>//3 暂停\继续</p>

<ul>
<li><code>- (void)pauseSpeekingAction:(UIButton *)sender {</code></li>
<li>     <code>NSString *btnTitle = sender.titleLabel.text;</code>
</li>
<li>     <code>if ([btnTitle isEqualToString:@"暂停"]) {</code>
</li>
<li>         <code>if ([self.synthesizer isSpeaking]) {//是否正在合成之后的表达</code>
</li>
<li>             <code>[self.synthesizer pauseSpeakingAtBoundary:AVSpeechBoundaryImmediate];//暂停</code>
</li>
<li>             <code>[sender setTitle:@"继续" forState:UIControlStateNormal];</code>
</li>
<li>         <code>}</code>
</li>
<li>     <code>} else {</code>
</li>
<li>         <code>//是否处于暂停状态</code>
</li>
<li>         <code>if ([self.synthesizer pauseSpeakingAtBoundary:AVSpeechBoundaryImmediate]) {</code>
</li>
<li>             <code>[self.synthesizer continueSpeaking];//继续表达</code>
</li>
<li>             <code>[sender setTitle:@"暂停" forState:UIControlStateNormal];</code>
</li>
<li>         <code>}</code>
</li>
<li>     <code>}</code>
</li>
<li> <code>}</code>
</li>
</ul>

<p>//4 停止</p>

<ul>
<li><em><code>- (void)stopSpeekingAction:(UIButton *)sender {</code></em></li>
<li>    <em><code>if ([self.synthesizer isSpeaking]) {//是否正在表达</code></em>
</li>
<li>        <em><code>[self.synthesizer stopSpeakingAtBoundary:AVSpeechBoundaryImmediate];//停止</code></em>
</li>
<li>    <em><code>}</code></em>
</li>
<li><em><code>}</code></em></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/wl1432103394/AVSpeechUtterance">Avspeechutterance</a> is maintained by <a href="https://github.com/wl1432103394">wl1432103394</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
